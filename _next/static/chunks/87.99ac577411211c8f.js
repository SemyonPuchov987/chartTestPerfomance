(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[87],{3087:function(e,t,a){"use strict";a.r(t);var n=a(7437),l=a(2265),s=a(433),i=a(7161);a(531);var r=a(3377),o=a.n(r);s.ZP.register(i.ZP),t.default=()=>{let[e,t]=(0,l.useState)(null),[i,r]=(0,l.useState)(null),[c,d]=(0,l.useState)("100k.csv"),[u,h]=(0,l.useState)(!1),p=(0,l.useRef)(null),v=(0,l.useRef)(null),b=(0,l.useRef)(null);(0,l.useEffect)(()=>(b.current=new Worker(a.tu(new URL(a.p+a.u(932),a.b))),b.current.onmessage=e=>{let{data:a,action:n,noiseLevels:l}=e.data;"parsed"===n&&(t(a),r(l),h(!1))},_(c),()=>b.current.terminate()),[c]);let _=async e=>{h(!0);let t=await fetch("".concat("/chartTestPerfomance","/").concat(e)),a=await t.text();b.current.postMessage({action:"parse",data:a})};(0,l.useEffect)(()=>{e&&(v.current&&v.current.destroy(),m(e))},[e]);let m=e=>{let t=p.current.getContext("2d"),a=e.map(e=>new Date(e["DATE&TIME"])),n=e.map(e=>parseFloat(e.LAFMAX)),l=e.map(e=>parseFloat(e.LAFMIN)),i=e.map(e=>parseFloat(e.LAE)),r=e.map(e=>parseFloat(e.LAEQ));v.current=new s.ZP(t,{type:"line",data:{labels:a,datasets:[{label:"LAFMAX",data:n,borderColor:"rgba(255, 99, 132, 1)",borderWidth:1,fill:!1,pointRadius:0,tension:0},{label:"LAFMIN",data:l,borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,fill:!1,pointRadius:0,tension:0},{label:"LAE",data:i,borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,fill:!1,pointRadius:0,tension:0},{label:"LAEQ",data:r,borderColor:"rgba(153, 102, 255, 1)",borderWidth:1,fill:!1,pointRadius:0,tension:0}]},options:{responsive:!0,animation:!1,scales:{x:{type:"time",time:{unit:"hour",stepSize:1},title:{display:!0,text:"Date & Time"}},y:{title:{display:!0,text:"Value"}}},elements:{line:{tension:0},point:{radius:0,hitRadius:5}},plugins:{decimation:{enabled:!0,algorithm:"lttb"},zoom:{pan:{enabled:!0,mode:"xy"},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"}}}}})};return(0,n.jsxs)("div",{children:[(0,n.jsx)("canvas",{ref:p,width:1200,height:500}),(0,n.jsx)("button",{className:o().button,onClick:()=>v.current.resetZoom(),children:"Reset Zoom"}),i&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{children:["Mean LAFMAX: ",i.mean]}),(0,n.jsxs)("p",{children:["Standard Deviation: ",i.stdDev]})]}),(0,n.jsxs)("div",{className:o().chartNav,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"file-select",children:"Select data file:"}),(0,n.jsxs)("select",{id:"file-select",onChange:e=>{d(e.target.value)},value:c,className:o().select,children:[(0,n.jsx)("option",{value:"100k.csv",children:"100k"}),(0,n.jsx)("option",{value:"200k.csv",children:"200k"}),(0,n.jsx)("option",{value:"300k.csv",children:"300k"}),(0,n.jsx)("option",{value:"500k.csv",children:"500k"}),(0,n.jsx)("option",{value:"700k.csv",children:"700k"}),(0,n.jsx)("option",{value:"1kk.csv",children:"1kk"}),(0,n.jsx)("option",{value:"2kk.csv",children:"2kk"})]})]}),u&&(0,n.jsx)("p",{className:o().loading,children:"Loading data..."})]})]})}},3377:function(e){e.exports={chartContainer:"LineChart_chartContainer__v7M1k",svg:"LineChart_svg__LDemt",x:"LineChart_x__XsyYr",label:"LineChart_label__iehsX",y:"LineChart_y__cLHRK",button:"LineChart_button__U5LUA",select:"LineChart_select__oKw0n",loading:"LineChart_loading__vhm7h",chartNav:"LineChart_chartNav__kbcd3"}}}]);